#!/usr/bin/env node
const dotenv = require('dotenv').config();
const commander = require('commander');

const app = require('../dist/src/index').app;
const logger = require('../dist/src/lib/logger').logger;

commander
  .option('-H, --host <host>', 'specify the host [0.0.0.0]', '0.0.0.0')
  .option('-p, --port <port>', 'specify the port [4000]', '4000')
  .parse(process.argv);

const server = app.listen(commander.port, commander.host, () => {
  logger.info(`Listening on ${commander.host}:${commander.port}`);
});

module.exports = server